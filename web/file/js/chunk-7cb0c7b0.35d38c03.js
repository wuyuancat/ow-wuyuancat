(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cb0c7b0"],{"531a":function(t,e,r){"use strict";r("fd48")},"5c93":function(t,e,r){t.exports=r.p+"img/python.79033d44.png"},"8ed9":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-list"},[a("a-list",{attrs:{grid:{gutter:24,xxl:4,xl:4,lg:3,md:2,sm:1,xs:1},dataSource:t.dataSource},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[a("a-card",{attrs:{hoverable:!0}},[a("template",{staticClass:"ant-card-extra",slot:"extra"},[a("span",{staticClass:"create-time"},[t._v(t._s(e.createTime))]),a("span",{staticStyle:{"margin-left":"6px"}},[t._v(t._s(e.workType_dictText))])]),a("a-card-meta",[a("div",{staticClass:"meta-cardInfo",attrs:{slot:"description"},slot:"description"},[a("a",{attrs:{href:t.getEditorHref(e),target:"_blank"}},[a("p",[t._v(t._s(e.workName))]),e.coverFileKey?a("img",{attrs:{src:t.getFileAccessHttpUrl(e.coverFileKey)}}):a("img",{attrs:{src:r("5c93"),alt:""}})])])]),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return t.handleDelete(e.id)}}},[a("a",[a("a-icon",{attrs:{type:"delete"}})],1)]),a("a",{attrs:{href:t.getEditorHref(e),target:"_blank"}},[a("a-icon",{attrs:{type:"edit"}})],1),1==e.workType||2==e.workType?a("a-popover",{attrs:{trigger:"click"}},[a("template",{slot:"content"},[a("qrcode",{attrs:{value:t.url.shareUrl+e.id,size:250}})],1),a("a",[a("a-icon",{attrs:{type:"share-alt"}})],1)],2):t._e()],1)],2)],1)}}])})],1)},s=[],c=r("0fea"),i=r("151f"),n={name:"MineWorksCard",components:{qrcode:i["default"]},data:function(){return{dataSource:[],qn_base:window._CONFIG["qn_base"],url:{list:"/teaching/teachingWork/mine",delete:"/teaching/teachingWork/delete",shareUrl:window._CONFIG["webURL"]+"/scratch3/scratch-mobile.html?workId="}}},mounted:function(){this.getWorkList()},methods:{getFileAccessHttpUrl:c["d"],getWorkList:function(){var t=this;Object(c["c"])(t.url.list,null).then((function(e){e.success&&(t.dataSource=e.result.records),510===e.code&&t.$message.warning(e.message),t.loading=!1}))},handleDelete:function(t){var e=this;Object(c["a"])(e.url.delete,{id:t}).then((function(t){t.success?(e.$message.success(t.message),e.getWorkList()):e.$message.warning(t.message)}))},getEditorHref:function(t){switch(t.workType){case"1":return"/scratch3/index.html?workId="+t.id;case"2":return"/scratch3/index.html?workId="+t.id;case"3":return"/scratchjr/editor.html?mode=edit&filepath="+t.workFileKey_url;case"4":return"/python/index.html?workId="+t.id;case"10":return"/blockly/index.html?workId="+t.id;default:return t.workFileKey_url}}}},o=n,l=(r("531a"),r("2877")),d=Object(l["a"])(o,a,s,!1,null,"1496b1ce",null);e["default"]=d.exports},fd48:function(t,e,r){}}]);