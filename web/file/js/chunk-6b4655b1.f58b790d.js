(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b4655b1"],{"0755":function(e,t,n){"use strict";n("4104")},4104:function(e,t,n){},c6cb:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("j-modal",{attrs:{visible:e.visible,title:e.unit.unitName,switchFullscreen:"",footer:null,maskClosable:!1,width:800},on:{cancel:e.handleCancel}},[n("div",{staticClass:"video-area"},[e.unit.courseVideo||e.unit.courseCase?n("a-tabs",[e.unit.courseVideo?n("a-tab-pane",{key:"video",attrs:{tab:"视频"}},[1==e.unit.courseVideoSource?n("video",{attrs:{src:e.getFileAccessHttpUrl(e.unit.courseVideo),controls:"true",controlsList:"nodownload noremote footbar",oncontextmenu:"return false;"}}):e._e(),2==e.unit.courseVideoSource?n("video",{attrs:{src:e.unit.courseVideo,controls:"true",controlsList:"nodownload noremote footbar",oncontextmenu:"return false;"}}):e._e(),3==e.unit.courseVideoSource?n("div",{domProps:{innerHTML:e._s(e.unit.courseVideo)}}):e._e()]):e._e(),e.unit.courseCase?n("a-tab-pane",{key:"scratch",attrs:{tab:"案例"}},[n("iframe",{attrs:{id:"player",src:e.previewCourseCase(e.unit),scrolling:"no"}})]):e._e()],1):e._e()],1),n("a-divider",[e._v("本节课资料")]),n("div",[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:16}},[n("a-card",{attrs:{size:"small",title:"课程说明"}},[n("div",{domProps:{innerHTML:e._s(e.unit.unitIntro?e.unit.unitIntro.replace(/\n/g,"<br>"):"")}})])],1),n("a-col",{attrs:{span:8}},[n("a-collapse",{attrs:{defaultActiveKey:"0",bordered:!1},scopedSlots:e._u([{key:"expandIcon",fn:function(e){return[n("a-icon",{attrs:{type:"caret-right",rotate:e.isActive?90:0}})]}}])},[n("a-collapse-panel",{style:e.customStyle,attrs:{header:"课后作业"}},[n("a",{attrs:{target:"_blank"},on:{click:function(t){return e.handleViewCode(e.unit)}}},[n("a-icon",{attrs:{type:"edit"}}),e._v("去做作业")],1)]),e.unit.coursePpt?n("a-collapse-panel",{style:e.customStyle,attrs:{header:"课程资料"}},e._l(e.unit.coursePpt_url.split(","),(function(t,r){return n("div",{key:r},[t.endsWith("sb3")?n("a",{attrs:{target:"_blank",href:"/scratch3/index.html?scene=create&workFile="+t}},[n("a-icon",{attrs:{type:"code"}}),e._v(" 查看代码 "+e._s(r+1))],1):n("a",{attrs:{target:"_blank",href:t}},[n("a-icon",{attrs:{type:"file"}}),e._v(" 查看资料 "+e._s(r+1))],1)])})),0):e._e()],1)],1)],1)],1)],1)],1)},o=[],s=n("0fea"),a={name:"UnitViewModal",data:function(){return{customStyle:"background: #f7f7f7;border-radius: 4px;margin-bottom: 24px;border: 0;overflow: hidden",visible:!1,unit:{},scratchFrameHref:""}},mounted:function(){document.addEventListener("scratchFullScreen",(function(e){window.launchIntoFullscreen(document.getElementById("player"))})),document.addEventListener("scratchUnFullScreen",(function(e){window.exitFullscreen()})),document.addEventListener("scratchInit",(function(e){var t=document.getElementById("player"),n=t.contentDocument.getElementById("scratch");n.addEventListener("click",(function(){t.focus()}))}))},methods:{getFileAccessHttpUrl:s["d"],handleCancel:function(e){this.unit={},this.visible=!1},previewCourseCase:function(e){var t=this.getFileAccessHttpUrl(e.courseCase);switch(e.courseWorkType){case 1:return"/scratch3/player.html?workUrl="+t;case 2:return"/scratch3/player.html?workUrl="+t;case 3:return"/scratchjr/editor.html?mode=edit&filepath="+t;case 4:return"/python/player.html?lang=turtle&url="+t}},handleViewCode:function(e){switch(e.courseWorkType){case 1:window.open("/scratch3/index.html?scene=course&unitId="+e.id);break;case 2:window.open("/scratch3/index.html?scene=course&unitId="+e.id);break;case 3:window.open("/scratchjr/editor.html?mode=edit&filepath="+this.getFileAccessHttpUrl(e.courseWork));break;case 4:window.open("/python/index.html?lang=turtle&unitId="+e.id+"&url="+this.getFileAccessHttpUrl(e.courseWork));break;default:window.open(this.getFileAccessHttpUrl(e.mediaPath))}}}},c=a,i=(n("0755"),n("2877")),l=Object(i["a"])(c,r,o,!1,null,"bb05c064",null);t["default"]=l.exports}}]);