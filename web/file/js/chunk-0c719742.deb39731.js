(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c719742","chunk-68b81eec"],{"11cb":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{width:900,keyboard:!1,closable:!1,centered:!0,maskClosable:!1,mask:!1,okText:"确认",cancelText:"取消"},on:{ok:e.ok,cancel:e.cancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("a-tabs",[a("a-tab-pane",{key:"1",attrs:{tab:"方向性图标"}},[a("ul",e._l(e.icons.directionIcons,(function(t){return a("li",{key:t},[a("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(a){return e.chooseIcon(t)}}})],1)})),0)]),a("a-tab-pane",{key:"2",attrs:{tab:"指示性图标"}},[a("ul",e._l(e.icons.suggestionIcons,(function(t){return a("li",{key:t},[a("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(a){return e.chooseIcon(t)}}})],1)})),0)]),a("a-tab-pane",{key:"3",attrs:{tab:"编辑类图标"}},[a("ul",e._l(e.icons.editIcons,(function(t){return a("li",{key:t},[a("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(a){return e.chooseIcon(t)}}})],1)})),0)]),a("a-tab-pane",{key:"4",attrs:{tab:"数据类图标"}},[a("ul",e._l(e.icons.dataIcons,(function(t){return a("li",{key:t},[a("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(a){return e.chooseIcon(t)}}})],1)})),0)]),a("a-tab-pane",{key:"5",attrs:{tab:"网站通用图标"}},[a("ul",e._l(e.icons.webIcons,(function(t){return a("li",{key:t},[a("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(a){return e.chooseIcon(t)}}})],1)})),0)]),a("a-tab-pane",{key:"6",attrs:{tab:"品牌和标识"}},[a("ul",e._l(e.icons.logoIcons,(function(t){return a("li",{key:t},[a("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(a){return e.chooseIcon(t)}}})],1)})),0)])],1)],1)},n=[],r=["step-backward","step-forward","fast-backward","fast-forward","shrink","arrows-alt","down","up","left","right","caret-up","caret-down","caret-left","caret-right","up-circle","down-circle","left-circle","right-circle","up-circle-o","down-circle-o","right-circle-o","left-circle-o","double-right","double-left","vertical-left","vertical-right","forward","backward","rollback","enter","retweet","swap","swap-left","swap-right","arrow-up","arrow-down","arrow-left","arrow-right","play-circle","play-circle-o","up-square","down-square","left-square","right-square","up-square-o","down-square-o","left-square-o","right-square-o","login","logout","menu-fold","menu-unfold","border-bottom","border-horizontal","border-inner","border-left","border-right","border-top","border-verticle","pic-center","pic-left","pic-right","radius-bottomleft","radius-bottomright","radius-upleft","radius-upright","fullscreen","fullscreen-exit"],i=["question","question-circle","plus","plus-circle","pause","pause-circle","minus","minus-circle","plus-square","minus-square","info","info-circle","exclamation","exclamation-circle","close","close-circle","close-square","check","check-circle","check-square","clock-circle","warning","issues-close","stop"],l=["edit","form","copy","scissor","delete","snippets","diff","highlight","align-center","align-left","align-right","bg-colors","bold","italic","underline","strikethrough","redo","undo","zoom-in","zoom-out","font-colors","font-size","line-height","colum-height","dash","small-dash","sort-ascending","sort-descending","drag","ordered-list","radius-setting"],c=["area-chart","pie-chart","bar-chart","dot-chart","line-chart","radar-chart","heat-map","fall","rise","stock","box-plot","fund","sliders"],s=["lock","unlock","bars","book","calendar","cloud","cloud-download","code","copy","credit-card","delete","desktop","download","ellipsis","file","file-text","file-unknown","file-pdf","file-word","file-excel","file-jpg","file-ppt","file-markdown","file-add","folder","folder-open","folder-add","hdd","frown","meh","smile","inbox","laptop","appstore","link","mail","mobile","notification","paper-clip","picture","poweroff","reload","search","setting","share-alt","shopping-cart","tablet","tag","tags","to-top","upload","user","video-camera","home","loading","loading-3-quarters","cloud-upload","star","heart","environment","eye","camera","save","team","solution","phone","filter","exception","export","customer-service","qrcode","scan","like","dislike","message","pay-circle","calculator","pushpin","bulb","select","switcher","rocket","bell","disconnect","database","compass","barcode","hourglass","key","flag","layout","printer","sound","usb","skin","tool","sync","wifi","car","schedule","user-add","user-delete","usergroup-add","usergroup-delete","man","woman","shop","gift","idcard","medicine-box","red-envelope","coffee","copyright","trademark","safety","wallet","bank","trophy","contacts","global","shake","api","fork","dashboard","table","profile","alert","audit","branches","build","border","crown","experiment","fire","money-collect","property-safety","read","reconciliation","rest","security-scan","insurance","interation","safety-certificate","project","thunderbolt","block","cluster","deployment-unit","dollar","euro","pound","file-done","file-exclamation","file-protect","file-search","file-sync","gateway","gold","robot","shopping"],u=["android","apple","windows","ie","chrome","github","aliwangwang","dingding","weibo-square","weibo-circle","taobao-circle","html5","weibo","twitter","wechat","youtube","alipay-circle","taobao","skype","qq","medium-workmark","gitlab","medium","linkedin","google-plus","dropbox","facebook","codepen","amazon","google","codepen-circle","alipay","ant-design","aliyun","zhihu","slack","slack-square","behance","behance-square","dribbble","dribbble-square","instagram","yuque","alibaba","yahoo"],d={name:"Icons",props:{iconChooseVisible:{default:!1}},data:function(){return{icons:{directionIcons:r,suggestionIcons:i,editIcons:l,dataIcons:c,webIcons:s,logoIcons:u},choosedIcon:"",activeIndex:""}},computed:{show:{get:function(){return this.iconChooseVisible},set:function(){}}},methods:{reset:function(){this.activeIndex=""},chooseIcon:function(e){this.activeIndex=e,this.choosedIcon=e,this.$message.success("选中 ".concat(e))},ok:function(){""!==this.choosedIcon?(this.reset(),this.$emit("choose",this.choosedIcon)):this.$message.warning("尚未选择任何图标")},cancel:function(){this.reset(),this.$emit("close")}}},h=d,p=(a("3ab1"),a("2877")),f=Object(p["a"])(h,o,n,!1,null,"ea6fbdbc",null);t["default"]=f.exports},"250f":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:e.title,width:e.drawerWidth,visible:e.visible,confirmLoading:e.confirmLoading},on:{close:e.handleCancel}},[a("div",{style:{width:"100%",border:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff"}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"菜单类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["menuType",{initialValue:e.localMenuType}],expression:"['menuType', { initialValue: localMenuType }]"}],on:{change:e.onChangeMenuType}},[a("a-radio",{attrs:{value:0}},[e._v("一级菜单")]),a("a-radio",{attrs:{value:1}},[e._v("子菜单")])],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单名称",hasFeedback:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name]"}],attrs:{placeholder:"请输入菜单名称",readOnly:e.disableSubmit}})],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.localMenuType,expression:"localMenuType != 0"}],attrs:{label:"上级菜单",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"validate-status":e.validateStatus,hasFeedback:!0,required:!0}},[a("span",{attrs:{slot:"help"},slot:"help"},[e._v(e._s("error"==e.validateStatus?"请选择上级菜单":"  "))]),a("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,placeholder:"请选择父级菜单",disabled:e.disableSubmit},on:{change:e.handleParentIdChange},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单路径"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",e.validatorRules.url],expression:"['url', validatorRules.url]"}],attrs:{placeholder:"请输入菜单路径",readOnly:e.disableSubmit}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单图标"}},[a("a-input",{attrs:{placeholder:"点击选择图标",readOnly:e.disableSubmit},model:{value:e.model.icon,callback:function(t){e.$set(e.model,"icon",t)},expression:"model.icon"}},[a("a-icon",{attrs:{slot:"addonAfter",type:"setting"},on:{click:e.selectIcons},slot:"addonAfter"})],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortNo",e.validatorRules.sortNo],expression:"['sortNo', validatorRules.sortNo]"}],staticStyle:{width:"200px"},attrs:{placeholder:"请输入菜单排序",readOnly:e.disableSubmit}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"隐藏"}},[a("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.menuHidden,callback:function(t){e.menuHidden=t},expression:"menuHidden"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否路由"}},[a("a-tooltip",{attrs:{placement:"top",title:"采用路由方式，页面将无刷新跳转。前提是该路径是系统内存在的路径。"}},[a("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.routeSwitch,callback:function(t){e.routeSwitch=t},expression:"routeSwitch"}})],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"登录显示"}},[a("a-tooltip",{attrs:{placement:"top",title:"用户登录后显示该菜单。"}},[a("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.needLogin,callback:function(t){e.needLogin=t},expression:"needLogin"}})],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"打开方式"}},[a("a-tooltip",{attrs:{placement:"top",title:"是否弹出新窗口来打开页面。"}},[a("a-switch",{attrs:{checkedChildren:"外部",unCheckedChildren:"内部"},model:{value:e.internalOrExternal,callback:function(t){e.internalOrExternal=t},expression:"internalOrExternal"}})],1)],1)],1),a("icons",{attrs:{iconChooseVisible:e.iconChooseVisible},on:{choose:e.handleIconChoose,close:e.handleIconCancel}})],1),a("a-row",{style:{textAlign:"right"}},[a("a-button",{style:{marginRight:"8px"},on:{click:e.handleCancel}},[e._v(" 关闭 ")]),a("a-button",{attrs:{disabled:e.disableSubmit,type:"primary"},on:{click:e.handleOk}},[e._v("确定")])],1)],1)])},n=[],r=a("0fea"),i=a("11cb"),l=a("88bc"),c=a.n(l),s={name:"TeachingMenuModal",components:{Icons:i["default"]},data:function(){return{drawerWidth:700,treeData:[],treeValue:"0-0-4",title:"操作",visible:!1,disableSubmit:!1,model:{},localMenuType:0,menuHidden:!1,internalOrExternal:!1,routeSwitch:!0,needLogin:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),iconChooseVisible:!1,validateStatus:""}},computed:{validatorRules:function(){return{name:{rules:[{required:!0,message:"请输入菜单标题!"}]},sortNo:{initialValue:1}}}},created:function(){this.initDictConfig()},methods:{loadTree:function(){var e=this;Object(r["c"])("/teaching/menu/queryTreeList").then((function(t){if(t.success){e.treeData=[];for(var a=t.result.treeList,o=0;o<a.length;o++){var n=a[o];n.isLeaf=n.leaf,e.treeData.push(n)}}}))},add:function(){this.edit({status:"1",route:!0})},edit:function(e){var t=this;this.resetScreenSize(),this.form.resetFields(),this.model=Object.assign({},e),this.menuHidden=!!e.hidden,null!=e.internalOrExternal?this.internalOrExternal=!!e.internalOrExternal:this.internalOrExternal=!1,null!=e.route&&(this.routeSwitch=!!e.route),this.needLogin=1==e.needLogin,this.model.parentId?this.localMenuType=1:this.localMenuType=0,this.visible=!0,this.loadTree();var a=c()(this.model,"name","url","sortNo","menuType","needLogin");this.$nextTick((function(){t.form.setFieldsValue(a)}))},close:function(){this.$emit("close"),this.disableSubmit=!1,this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,o){if(!a){e.model.internalOrExternal=e.internalOrExternal,e.model.hidden=e.menuHidden,e.model.route=e.routeSwitch,e.model.needLogin=e.needLogin?1:0;var n,i=Object.assign(e.model,o);if(!(1!=i.menuType&&2!=i.menuType||i.parentId))return t.validateStatus="error",void t.$message.error("请检查你填的类型以及信息是否正确！");t.validateStatus="success",t.confirmLoading=!0,n=e.model.id?Object(r["l"])("/teaching/menu/edit",i):Object(r["k"])("/teaching/menu/add",i),n.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateNumber:function(e,t,a){!t||new RegExp(/^[0-9]*[1-9][0-9]*$/).test(t)?a():a("请输入正整数!")},onChangeMenuType:function(e){var t=this;this.localMenuType=e.target.value,this.$nextTick((function(){t.form.validateFields(["url","component"],{force:!0})}))},selectIcons:function(){this.iconChooseVisible=!0},handleIconCancel:function(){this.iconChooseVisible=!1},handleIconChoose:function(e){this.model.icon=e,this.form.icon=e,this.iconChooseVisible=!1},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:700},initDictConfig:function(){},handleParentIdChange:function(e){this.validateStatus=e?"success":"error"}}},u=s,d=a("2877"),h=Object(d["a"])(u,o,n,!1,null,"75df8cf7",null);t["default"]=h.exports},"3ab1":function(e,t,a){"use strict";a("3bf4")},"3bf4":function(e,t,a){},"88bc":function(e,t,a){(function(t){var a=1/0,o=9007199254740991,n="[object Arguments]",r="[object Function]",i="[object GeneratorFunction]",l="[object Symbol]",c="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=c||s||Function("return this")();function d(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function h(e,t){var a=-1,o=e?e.length:0,n=Array(o);while(++a<o)n[a]=t(e[a],a,e);return n}function p(e,t){var a=-1,o=t.length,n=e.length;while(++a<o)e[n+a]=t[a];return e}var f=Object.prototype,b=f.hasOwnProperty,m=f.toString,g=u.Symbol,w=f.propertyIsEnumerable,v=g?g.isConcatSpreadable:void 0,y=Math.max;function k(e,t,a,o,n){var r=-1,i=e.length;a||(a=S),n||(n=[]);while(++r<i){var l=e[r];t>0&&a(l)?t>1?k(l,t-1,a,o,n):p(n,l):o||(n[n.length]=l)}return n}function C(e,t){return e=Object(e),x(e,t,(function(t,a){return a in e}))}function x(e,t,a){var o=-1,n=t.length,r={};while(++o<n){var i=t[o],l=e[i];a(l,i)&&(r[i]=l)}return r}function I(e,t){return t=y(void 0===t?e.length-1:t,0),function(){var a=arguments,o=-1,n=y(a.length-t,0),r=Array(n);while(++o<n)r[o]=a[t+o];o=-1;var i=Array(t+1);while(++o<t)i[o]=a[o];return i[t]=r,d(e,this,i)}}function S(e){return j(e)||q(e)||!!(v&&e&&e[v])}function O(e){if("string"==typeof e||V(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function q(e){return L(e)&&b.call(e,"callee")&&(!w.call(e,"callee")||m.call(e)==n)}var j=Array.isArray;function T(e){return null!=e&&_(e.length)&&!$(e)}function L(e){return M(e)&&T(e)}function $(e){var t=E(e)?m.call(e):"";return t==r||t==i}function _(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function M(e){return!!e&&"object"==typeof e}function V(e){return"symbol"==typeof e||M(e)&&m.call(e)==l}var N=I((function(e,t){return null==e?{}:C(e,h(k(t,1),O))}));e.exports=N}).call(this,a("c8ba"))}}]);