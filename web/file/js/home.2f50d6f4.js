(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home","chunk-385b449b","chunk-19f75b1e","chunk-0bf476c4","chunk-6a60b4ac","chunk-89e59de4"],{"1fd8":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"footer",domProps:{innerHTML:t._s(t.$store.getters.sysConfig.footer)}})},n=[]},"216f":function(t,e){},3323:function(t,e,r){},"43ee":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("router-link",{attrs:{to:{path:"/home"}}},[r("img",{staticClass:"logo",attrs:{src:t.logo,alt:""}})]),r("t-menu",{staticClass:"menu",attrs:{mode:"horizontal",menu:t.menus}})],1)},n=[],o=r("2638"),s=r.n(o),c=r("55f1"),i=r("0c63");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=c["a"].Item,m=c["a"].SubMenu,h={name:"TMenu",props:{menu:{type:Array,required:!0},theme:{type:String,required:!1,default:"light"},mode:{type:String,required:!1,default:"inline"},collapsed:{type:Boolean,required:!1,default:!1}},data:function(){return{openKeys:[],selectedKeys:[],cachedOpenKeys:[],isLogin:!1}},computed:{rootSubmenuKeys:function(t){var e=[];return t.menu.forEach((function(t){return e.push(t.path)})),e}},created:function(){this.isLogin=null!=this.$store.getters.userInfo},mounted:function(){},watch:{collapsed:function(t){t?(this.cachedOpenKeys=this.openKeys.concat(),this.openKeys=[]):this.openKeys=this.cachedOpenKeys},$route:function(){}},methods:{onOpenChange:function(t){var e=this;if("horizontal"!==this.mode){var r=t.find((function(t){return!e.openKeys.includes(t)}));this.rootSubmenuKeys.includes(r)?this.openKeys=r?[r]:[]:this.openKeys=t}else this.openKeys=t},renderItem:function(t){return t.hidden?null:t.children?this.renderSubMenu(t):this.renderMenuItem(t)},renderMenuItem:function(t){var e=this.$createElement,r=t.route&&!t.internalOrExternal?"router-link":"a",a=t.internalOrExternal?"_blank":"_self",n={to:{path:t.url}},o={href:t.url,target:a};if(!t.needLogin||this.isLogin)return e(d,s()([{},{key:t.url}]),[e(r,{props:f({},n),attrs:f({},o)},[this.renderIcon(t.icon),e("span",[t.title])])])},renderSubMenu:function(t){var e=this,r=this.$createElement,a=t.route&&!t.internalOrExternal?"router-link":"a",n={to:{path:t.url}},o=t.internalOrExternal?"_blank":"_self",c={href:t.url,target:o},i=[];return t.children.forEach((function(t){return i.push(e.renderItem(t))})),r(m,s()([{},{key:t.url}]),[r(a,{slot:"title",props:f({},n),attrs:f({},c)},[this.renderIcon(t.icon),r("span",[t.title])]),i])},renderIcon:function(t){var e=this.$createElement;if("none"===t||void 0===t)return null;var r={};return"object"===l(t)?r.component=t:r.type=t,e(i["a"],{props:f({},r)})}},render:function(){var t=this,e=arguments[0],r=this.mode,a=this.theme,n=this.menu,o={mode:r,theme:a,openKeys:this.openKeys,overflowedIndicator:e("a-icon",{style:"color:white",attrs:{type:"menu"}})},s={select:function(e){t.selectedKeys=e.selectedKeys,t.$emit("select",e)},openChange:this.onOpenChange},i=n.map((function(e){return e.hidden?null:t.renderItem(e)}));return e(c["a"],{props:f({},o),on:f({},s),model:{value:t.selectedKeys,callback:function(e){t.selectedKeys=e}}},[i])}},g={components:{TMenu:h},data:function(){return{menus:[],logo:"/logo.png"}},created:function(){this.menus=this.$store.getters.menuList,this.$store.getters.sysConfig.logo&&this.$store.getters.sysConfig.qiniuDomain&&(this.logo=this.$store.getters.sysConfig.qiniuDomain+"/"+this.$store.getters.sysConfig.logo)}},y=g,k=(r("629a"),r("2877")),v=Object(k["a"])(y,a,n,!1,null,"258aec68",null);e["default"]=v.exports},"498d":function(t,e,r){},"50db":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-enter"},[t.token?r("div",[r("a-avatar",{staticClass:"avatar",attrs:{shape:"square",size:100,src:t.getFileAccessHttpUrl(t.avatar())}}),r("h3",[t._v("欢迎您，"+t._s(t.nickname()))]),r("a-button",{attrs:{type:"dashed"},on:{click:t.enter}},[t._v("进入系统")])],1):r("div",[r("a-avatar",{staticClass:"avatar",attrs:{shape:"square",size:100,src:"/logo.png"}}),r("h3",[t._v("欢迎来到"+t._s(t.brandName))]),r("a-button",{attrs:{type:"dashed"},on:{click:t.enter}},[t._v("登录/注册")])],1)])},n=[],o=r("2b0e"),s=r("2f62"),c=r("9fb0");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f={data:function(){return{brandName:this.$store.getters.sysConfig.brandName,token:""}},created:function(){this.token=o["default"].ls.get(c["a"])},methods:l(l({},Object(s["c"])(["nickname","avatar","userInfo"])),{},{getFileAccessHttpUrl:getFileAccessHttpUrl,enter:function(){this.$router.push("/account/center")}})},p=f,d=(r("aecb"),r("2877")),m=Object(d["a"])(p,a,n,!1,null,"a9830302",null);e["default"]=m.exports},"5c93":function(t,e,r){t.exports=r.p+"img/python.79033d44.png"},"5fe2":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("a-layout",[a("a-layout-header",[a("Header")],1),a("a-layout",[a("a-layout-content",[a("div",{staticClass:"panel-works"},[a("h1",{staticClass:"panel-title"},[a("a-icon",{attrs:{type:"like",theme:"twoTone","two-tone-color":"#52c41a"}}),t._v("\n            最赞作品\n          ")],1),a("a-row",{attrs:{type:"flex",gutter:[24,24]}},t._l(t.greatWork,(function(e,n){return a("a-col",{key:n,attrs:{span:7}},[a("a-card",{staticClass:"work-card"},[a("a",{attrs:{target:"_blank"},on:{click:function(r){return t.toDetail(e.id)}}},[e.coverFileKey?a("img",{staticClass:"work-cover",attrs:{src:e.coverFileKey_url}}):t._e(),4==e.workType?a("img",{attrs:{src:r("5c93"),alt:""}}):t._e()]),a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{span:5}},[a("a-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.viewNum)+"\n                  ")],1),a("a-col",{attrs:{span:5}},[a("a-icon",{attrs:{type:"like"}}),t._v(" "+t._s(e.starNum)+"\n                  ")],1)],1),a("p",[t._v(t._s(e.workName))]),a("a-row",{staticClass:"work-author"},[a("a-col",{attrs:{span:6}},[a("a-avatar",{staticClass:"avatar",attrs:{shape:"square",size:40,src:e.avatar_url}})],1),a("a-col",{attrs:{span:18}},[a("span",[t._v(t._s(e.realname||e.username))])])],1)],1)],1)})),1),a("a-button",{staticClass:"load-more",attrs:{type:"link"},on:{click:t.getGreatWork}},[t._v("加载更多……")])],1),a("div",{staticClass:"panel-works"},[a("h1",{staticClass:"panel-title"},[a("a-icon",{attrs:{type:"fire",theme:"twoTone","two-tone-color":"#eb2f96"}}),t._v("\n            最火作品\n          ")],1),a("a-row",{attrs:{type:"flex",gutter:[24,24]}},t._l(t.hotWork,(function(e,n){return a("a-col",{key:n,attrs:{span:7}},[a("a-card",{staticClass:"work-card"},[a("a",{attrs:{target:"_blank"},on:{click:function(r){return t.toDetail(e.id)}}},[e.coverFileKey?a("img",{staticClass:"work-cover",attrs:{src:e.coverFileKey_url}}):t._e(),4==e.workType?a("img",{attrs:{src:r("5c93"),alt:""}}):t._e()]),a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{span:5}},[a("a-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.viewNum)+"\n                  ")],1),a("a-col",{attrs:{span:5}},[a("a-icon",{attrs:{type:"like"}}),t._v(" "+t._s(e.starNum)+"\n                  ")],1)],1),a("p",[t._v(t._s(e.workName))]),a("a-row",{staticClass:"work-author"},[a("a-col",{attrs:{span:6}},[a("a-avatar",{staticClass:"avatar",attrs:{shape:"square",size:40,src:e.avatar_url}})],1),a("a-col",{attrs:{span:18}},[a("span",[t._v(t._s(e.realname||e.username))])])],1)],1)],1)})),1),a("a-button",{staticClass:"load-more",attrs:{type:"link"},on:{click:t.getHotWork}},[t._v("加载更多……")])],1),a("div",{staticClass:"panel-works"},[a("h1",{staticClass:"panel-title"},[a("a-icon",{attrs:{type:"clock-circle",theme:"twoTone"}}),t._v("\n            最新作品\n          ")],1),a("a-row",{attrs:{type:"flex",gutter:[24,24]}},t._l(t.newWork,(function(e,n){return a("a-col",{key:n,attrs:{span:7}},[a("a-card",{staticClass:"work-card"},[a("a",{attrs:{target:"_blank"},on:{click:function(r){return t.toDetail(e.id)}}},[e.coverFileKey?a("img",{staticClass:"work-cover",attrs:{src:e.coverFileKey_url}}):t._e(),4==e.workType?a("img",{attrs:{src:r("5c93"),alt:""}}):t._e()]),a("a-row",{attrs:{type:"flex",justify:"end"}},[a("a-col",{attrs:{span:5}},[a("a-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.viewNum)+"\n                  ")],1),a("a-col",{attrs:{span:5}},[a("a-icon",{attrs:{type:"like"}}),t._v(" "+t._s(e.starNum)+"\n                  ")],1)],1),a("p",[t._v(t._s(e.workName))]),a("a-row",{staticClass:"work-author"},[a("a-col",{attrs:{span:6}},[a("a-avatar",{staticClass:"avatar",attrs:{shape:"square",size:40,src:e.avatar_url}})],1),a("a-col",{attrs:{span:18}},[a("span",[t._v(t._s(e.realname||e.username))])])],1)],1)],1)})),1),a("a-button",{staticClass:"load-more",attrs:{type:"link"},on:{click:t.getNewWork}},[t._v("加载更多……")])],1)]),a("a-layout-sider",[a("UserEnter")],1)],1),a("a-layout-footer",[a("Footer")],1)],1)],1)},n=[],o=r("0fea"),s=r("43ee"),c=r("e33f"),i=r("50db"),l=r("151f"),u={name:"PublicWorkList",components:{qrcode:l["default"],Header:s["default"],Footer:c["default"],UserEnter:i["default"]},data:function(){return{newWork:[],greatWork:[],hotWork:[],page:{newWork:0,greatWork:0,hotWork:0}}},created:function(){this.getNewWork(),this.getGreatWork(),this.getHotWork()},methods:{getFileAccessHttpUrl:o["d"],getNewWork:function(){var t=this;this.page.newWork+=1,Object(o["c"])("/teaching/teachingWork/leaderboard",{orderBy:"time",pageSize:3,pageNo:this.page.newWork}).then((function(e){e.success&&(t.newWork=t.newWork.concat(e.result.records),0==e.result.records.length&&t.page.newWork>1&&t.$message.info("已加载完啦！"))}))},getGreatWork:function(){var t=this;this.page.greatWork+=1,Object(o["c"])("/teaching/teachingWork/leaderboard",{orderBy:"star",pageSize:3,pageNo:this.page.greatWork}).then((function(e){e.success&&(t.greatWork=t.greatWork.concat(e.result.records),0==e.result.records.length&&t.page.greatWork>1&&t.$message.info("已加载完啦！"))}))},getHotWork:function(){var t=this;this.page.hotWork+=1,Object(o["c"])("/teaching/teachingWork/leaderboard",{orderBy:"view",pageSize:3,pageNo:this.page.hotWork}).then((function(e){e.success&&(t.hotWork=t.hotWork.concat(e.result.records),0==e.result.records.length&&t.page.hotWork>1&&t.$message.info("已加载完啦！"))}))},toDetail:function(t){this.$router.push("/work-detail?id="+t)}}},f=u,p=(r("dc6d"),r("2877")),d=Object(p["a"])(f,a,n,!1,null,"1b6b22f4",null);e["default"]=d.exports},"61fc4":function(t,e,r){"use strict";r("ed45")},"629a":function(t,e,r){"use strict";r("d81a")},7448:function(t,e,r){"use strict";r("ab0f")},"7dfb":function(t,e,r){"use strict";r.r(e);var a=r("216f"),n=r.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"84ee":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("a-layout",[r("a-layout-header",[r("Header")],1),r("a-layout",[r("a-layout-content",[r("div",{staticClass:"project-detail"},[r("div",{staticClass:"scratch-player"},[r("iframe",{attrs:{src:t.workInfo.workFile?"/scratch3/player.html?workUrl="+t.workInfo.workFileKey_url:"about:blank",id:"player",frameborder:"0",width:"100%",height:"100%",scrolling:"no"}})]),r("div",{staticClass:"project-info"},[r("a-row",{attrs:{type:"flex",justify:"space-around"}},[r("a-col",{attrs:{span:4}},[r("a-avatar",{staticClass:"avatar",attrs:{shape:"square",size:60,src:t.workInfo.avatar_url}}),r("p",[t._v(t._s(t.workInfo.realname||t.workInfo.username))])],1),r("a-col",{attrs:{span:14}},[r("div",{staticClass:"project-meta"},[r("h2",{staticClass:"title"},[t._v(t._s(t.workInfo.workName))]),r("p",{staticClass:"time"},[t._v(t._s(t.workInfo.createTime))])])]),r("a-col",{attrs:{span:6}},[r("div",{staticClass:"project-op"},[r("a-icon",{attrs:{type:"eye",theme:"twoTone"}}),r("span",{staticClass:"gap"},[t._v(t._s(t.workInfo.viewNum))]),r("a-icon",{attrs:{type:"like",theme:"twoTone"},on:{click:t.starWork}}),r("span",{staticClass:"gap"},[t._v(t._s(t.workInfo.starNum))]),r("a-popover",{attrs:{title:"微信扫一扫手机体验和分享"}},[r("template",{slot:"content"},[r("qrcode",{attrs:{value:t.getShareUrl(),size:200,level:"H"}})],1),r("a-icon",{attrs:{type:"mobile",theme:"twoTone"}})],2)],1)])],1)],1),r("div",{staticClass:"project-comment"},[r("div",{staticClass:"publish"},[r("a-row",{attrs:{type:"flex",justify:"space-between"}},[r("a-col",{staticClass:"comment-user",attrs:{span:"3"}},[r("a-avatar",{attrs:{shape:"square",size:60,icon:"user",src:t.getFileAccessHttpUrl(t.avatar())}}),r("p",[t._v("\n                    "+t._s(t.token?t.nickname():"未登录")+"\n                  ")])],1),r("a-col",{attrs:{span:16}},[r("a-textarea",{attrs:{rows:5,maxLength:500,placeholder:"说说这个作品怎么样吧"},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}})],1),r("a-col",{attrs:{span:4}},[r("div",{staticClass:"comment-btn"},[r("a-button",{attrs:{disabled:!t.token,type:"dashed"},on:{click:t.comment}},[t._v("发表评论")])],1)])],1)],1),r("a-divider"),r("a-list",{staticClass:"comment-list",attrs:{"item-layout":"horizontal",locale:{emptyText:"暂无评论"},"data-source":t.comments},scopedSlots:t._u([{key:"renderItem",fn:function(e){return r("a-list-item",{},[r("a-comment",{attrs:{author:e.realname||e.username}},[r("a-avatar",{attrs:{slot:"avatar",shape:"square",size:40,icon:"user",src:e.avatar_url},slot:"avatar"}),r("p",{staticClass:"comment-content",attrs:{slot:"content"},slot:"content"},[t._v("\n                    "+t._s(e.comment)+"\n                  ")]),r("a-tooltip",{attrs:{slot:"datetime",title:t.moment(e.createTime).format("YYYY-MM-DD HH:mm:ss")},slot:"datetime"},[r("span",[t._v(t._s(t.moment(e.createTime).fromNow()))])])],1)],1)}}])},[t.showLoadingMore?r("div",{style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"},attrs:{slot:"loadMore"},slot:"loadMore"},[t.loadingMore?r("a-spin"):r("a-button",{attrs:{type:"link"},on:{click:t.workComments}},[t._v(" 加载更多 ")])],1):t._e()])],1)])]),r("a-layout-sider",[r("UserEnter")],1)],1),r("a-layout-footer",[r("Footer")],1)],1)],1)},n=[],o=r("2b0e"),s=r("0fea"),c=r("2f62"),i=r("9fb0"),l=r("151f"),u=r("43ee"),f=r("e33f"),p=r("50db"),d=r("c1df"),m=r.n(d);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var k={name:"WorkDetail",components:{qrcode:l["default"],Header:u["default"],Footer:f["default"],UserEnter:p["default"]},data:function(){return{workId:"",workInfo:{},token:"",commentContent:"",showLoadingMore:!0,loadingMore:!1,commentsPage:0,comments:[]}},created:function(){this.workId=this.$route.query.id,this.getWorkInfo(this.workId),this.token=o["default"].ls.get(i["a"])},mounted:function(){document.addEventListener("scratchFullScreen",(function(t){window.launchIntoFullscreen(document.getElementById("player"))})),document.addEventListener("scratchUnFullScreen",(function(t){window.exitFullscreen()})),document.addEventListener("scratchInit",(function(t){var e=document.getElementById("player"),r=e.contentDocument.getElementById("scratch");r.addEventListener("click",(function(){e.focus()}))}))},methods:g(g({},Object(c["c"])(["nickname","avatar","userInfo"])),{},{moment:m.a,getFileAccessHttpUrl:s["d"],getWorkInfo:function(t){var e=this;Object(s["c"])("/teaching/teachingWork/studentWorkInfo?workId="+t).then((function(t){t.success?(e.workInfo=t.result,e.workComments()):e.$message.error("作品获取失败")}))},starWork:function(){var t=this;Object(s["c"])("/teaching/teachingWork/starWork?workId="+this.workId).then((function(e){e.success&&("点赞成功"==e.message&&(t.workInfo.starNum+=1),t.$message.success(e.message))}))},workComments:function(){var t=this;this.commentsPage+=1,this.loadingMore=!0,Object(s["c"])("/teaching/teachingWork/getWorkComments",{workId:this.workId,page:this.commentsPage}).then((function(e){t.loadingMore=!1,0==e.result.length&&t.commentsPage>1?t.$message.info("已加载完啦！"):t.comments=t.comments.concat(e.result)}))},comment:function(){var t=this;""!=this.commentContent&&Object(s["k"])("/teaching/teachingWork/saveComment",{workId:this.workId,comment:this.commentContent}).then((function(e){e.success&&(t.comments.unshift({comment:t.commentContent,realname:t.nickname(),avatar_url:t.getFileAccessHttpUrl(t.avatar()),createTime:new Date}),t.commentContent="",t.$message.success(e.message))}))},getShareUrl:function(){return window.location.protocol+"//"+window.location.host+"/scratch3/scratch-mobile?workId="+this.workId},enter:function(){this.$router.push("/account/center")}})},v=k,b=(r("61fc4"),r("2877")),w=Object(b["a"])(v,a,n,!1,null,"85136eac",null);e["default"]=w.exports},ab0f:function(t,e,r){},aecb:function(t,e,r){"use strict";r("3323")},d81a:function(t,e,r){},dc6d:function(t,e,r){"use strict";r("498d")},e33f:function(t,e,r){"use strict";r.r(e);var a=r("1fd8"),n=r("7dfb");for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("7448");var s=r("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"0c1c0f77",null);e["default"]=c.exports},ed45:function(t,e,r){}}]);